import { type TaxDataRow } from '@/lib/types';

// Renamed to initialTaxData to reflect its use as a starting point for state
export const initialTaxData: TaxDataRow[] = [
  {
    jenisTransaksi: 'Makan Minum',
    wp: 'Orang Pribadi',
    fakturPajak: null,
    asnNonAsn: null,
    golongan: null,
    sertifikatKonstruksi: null,
    jenisPajak: 'PPh 21',
    kodePajakEbillingPPh: '411121-100', // Adjusted from spec for consistency
    dppRasio: '100/110',
    ptkp: null,
    tarifPajak: '2,5%',
    kenaPpn: 'tidak',
    kodePajakEbillingPpn: null,
    status: 'aktif',
  },
  {
    jenisTransaksi: 'Service Kendaraan, AC,Laptop, dll',
    wp: 'Orang Pribadi',
    fakturPajak: 'Tidak dapat menerbitkan',
    asnNonAsn: null,
    golongan: null,
    sertifikatKonstruksi: null,
    jenisPajak: 'PPh 21',
    kodePajakEbillingPPh: '411121-100',
    dppRasio: '100/111',
    ptkp: '> 2000000',
    tarifPajak: '2,5%',
    kenaPpn: 'ya',
    kodePajakEbillingPpn: '411211-108',
    status: 'aktif',
  },
  {
    jenisTransaksi: 'Sewa (Alat kesenian, Genset, Sound System, Kendaraan,dll)',
    wp: 'Orang Pribadi',
    fakturPajak: 'Tidak dapat menerbitkan',
    asnNonAsn: null,
    golongan: null,
    sertifikatKonstruksi: null,
    jenisPajak: 'PPh 21',
    kodePajakEbillingPPh: '411121-100',
    dppRasio: '100/111',
    ptkp: '> 2000000',
    tarifPajak: '2,5%',
    kenaPpn: 'ya',
    kodePajakEbillingPpn: '411211-108',
    status: 'aktif',
  },
  {
    jenisTransaksi: 'Fotokopi/Cetak banner,dll',
    wp: 'Orang Pribadi',
    fakturPajak: 'Tidak dapat menerbitkan',
    asnNonAsn: null,
    golongan: null,
    sertifikatKonstruksi: null,
    jenisPajak: 'PPh 21',
    kodePajakEbillingPPh: '411121-100',
    dppRasio: '100/111',
    ptkp: '> 2000000',
    tarifPajak: '2,5%',
    kenaPpn: 'ya',
    kodePajakEbillingPpn: '411211-108',
    status: 'aktif',
  },
  {
    jenisTransaksi: 'Honor (Narsum, Juri, dll)',
    wp: 'Orang Pribadi',
    fakturPajak: null,
    asnNonAsn: 'ASN',
    golongan: 'IV',
    sertifikatKonstruksi: null,
    jenisPajak: 'PPh 21',
    kodePajakEbillingPPh: '411121-100',
    dppRasio: '100/100',
    ptkp: null,
    tarifPajak: '15%',
    kenaPpn: 'tidak',
    kodePajakEbillingPpn: null,
    status: 'aktif',
  },
  {
    jenisTransaksi: 'Honor (Narsum, Juri, dll)',
    wp: 'Orang Pribadi',
    fakturPajak: null,
    asnNonAsn: 'ASN',
    golongan: 'III',
    sertifikatKonstruksi: null,
    jenisPajak: 'PPh 21',
    kodePajakEbillingPPh: '411121-100',
    dppRasio: '100/100',
    ptkp: null,
    tarifPajak: '5%',
    kenaPpn: 'tidak',
    kodePajakEbillingPpn: null,
    status: 'aktif',
  },
  {
    jenisTransaksi: 'Honor (Narsum, Juri, dll)',
    wp: 'Orang Pribadi',
    fakturPajak: null,
    asnNonAsn: 'ASN',
    golongan: 'II',
    sertifikatKonstruksi: null,
    jenisPajak: 'PPh 21',
    kodePajakEbillingPPh: '411121-100',
    dppRasio: '100/100',
    ptkp: null,
    tarifPajak: '0%',
    kenaPpn: 'tidak',
    kodePajakEbillingPpn: null,
    status: 'aktif',
  },
  {
    jenisTransaksi: 'Honor (Narsum, Juri, dll)',
    wp: 'Orang Pribadi',
    fakturPajak: null,
    asnNonAsn: 'ASN',
    golongan: 'I',
    sertifikatKonstruksi: null,
    jenisPajak: 'PPh 21',
    kodePajakEbillingPPh: '411121-100',
    dppRasio: '100/100',
    ptkp: null,
    tarifPajak: '0%',
    kenaPpn: 'tidak',
    kodePajakEbillingPpn: null,
    status: 'aktif',
  },
  {
    jenisTransaksi: 'Honor (Narsum, Juri, dll)',
    wp: 'Orang Pribadi',
    fakturPajak: null,
    asnNonAsn: 'NON ASN',
    golongan: null,
    sertifikatKonstruksi: null,
    jenisPajak: 'PPh 21',
    kodePajakEbillingPPh: '411121-100',
    dppRasio: '100/100',
    ptkp: null,
    tarifPajak: '5%',
    kenaPpn: 'tidak',
    kodePajakEbillingPpn: null,
    status: 'aktif',
  },
  {
    jenisTransaksi: 'Jasa Pentas Seni (Tari, Wayang, dll)',
    wp: 'Orang Pribadi',
    fakturPajak: 'Tidak dapat menerbitkan',
    asnNonAsn: null,
    golongan: null,
    sertifikatKonstruksi: null,
    jenisPajak: 'PPh 21',
    kodePajakEbillingPPh: '411121-100',
    dppRasio: '100/111',
    ptkp: '> 2000000',
    tarifPajak: '2,5%',
    kenaPpn: 'ya',
    kodePajakEbillingPpn: '411211-108',
    status: 'aktif',
  },
  {
    jenisTransaksi: 'Tukang Harian (Pekerja lepas)',
    wp: 'Orang Pribadi',
    fakturPajak: null,
    asnNonAsn: null,
    golongan: null,
    sertifikatKonstruksi: null,
    jenisPajak: 'PPh 21',
    kodePajakEbillingPPh: '411121-100',
    dppRasio: '100/100',
    ptkp: '0-450000',
    tarifPajak: '0%',
    kenaPpn: 'tidak',
    kodePajakEbillingPpn: null,
    status: 'aktif',
  },
  {
    jenisTransaksi: 'Tukang Harian (Pekerja lepas)',
    wp: 'Orang Pribadi',
    fakturPajak: null,
    asnNonAsn: null,
    golongan: null,
    sertifikatKonstruksi: null,
    jenisPajak: 'PPh 21',
    kodePajakEbillingPPh: '411121-100',
    dppRasio: '100/100',
    ptkp: '450000-2500000',
    tarifPajak: '0,5%',
    kenaPpn: 'tidak',
    kodePajakEbillingPpn: null,
    status: 'aktif',
  },
  {
    jenisTransaksi: 'Tukang Harian (Pekerja lepas)',
    wp: 'Orang Pribadi',
    fakturPajak: null,
    asnNonAsn: null,
    golongan: null,
    sertifikatKonstruksi: null,
    jenisPajak: 'PPh 21',
    kodePajakEbillingPPh: '411121-100',
    dppRasio: '100/100',
    ptkp: '> 2500000',
    tarifPajak: '2,5%',
    kenaPpn: 'tidak',
    kodePajakEbillingPpn: null,
    status: 'aktif',
  },
  {
    jenisTransaksi: 'Hadiah Lomba',
    wp: 'Orang Pribadi',
    fakturPajak: null,
    asnNonAsn: null,
    golongan: null,
    sertifikatKonstruksi: null,
    jenisPajak: 'PPh 21',
    kodePajakEbillingPPh: '411121-100',
    dppRasio: '100/100',
    ptkp: null,
    tarifPajak: '5%',
    kenaPpn: 'tidak',
    kodePajakEbillingPpn: null,
    status: 'aktif',
  },
  {
    jenisTransaksi: 'Pembelian Barang (ATK, Komputer, Material, dll)',
    wp: 'Badan Usaha',
    fakturPajak: 'Dapat menerbitkan',
    asnNonAsn: null,
    golongan: null,
    sertifikatKonstruksi: null,
    jenisPajak: 'PPh 22',
    kodePajakEbillingPPh: '411122-900', // Adjusted
    dppRasio: '100/111',
    ptkp: '> 2000000',
    tarifPajak: '1,5%',
    kenaPpn: 'ya',
    kodePajakEbillingPpn: '411211-900', // Adjusted
    status: 'aktif',
  },
  {
    jenisTransaksi: 'Pembelian Barang (ATK, Komputer, Material, dll)',
    wp: 'Badan Usaha',
    fakturPajak: 'Tidak dapat menerbitkan',
    asnNonAsn: null,
    golongan: null,
    sertifikatKonstruksi: null,
    jenisPajak: 'PPh 22',
    kodePajakEbillingPPh: '411122-100', // Adjusted
    dppRasio: '100/111',
    ptkp: '> 2000000',
    tarifPajak: '1,5%',
    kenaPpn: 'ya',
    kodePajakEbillingPpn: '411211-108',
    status: 'aktif',
  },
  {
    jenisTransaksi: 'Makan Minum',
    wp: 'Badan Usaha',
    fakturPajak: null,
    asnNonAsn: null,
    golongan: null,
    sertifikatKonstruksi: null,
    jenisPajak: 'PPh 23',
    kodePajakEbillingPPh: '411124-104', // Adjusted
    dppRasio: '100/110',
    ptkp: '> 2000000',
    tarifPajak: '2%',
    kenaPpn: 'tidak',
    kodePajakEbillingPpn: null,
    status: 'aktif',
  },
  {
    jenisTransaksi: 'Service Kendaraan, AC,Laptop, dll',
    wp: 'Badan Usaha',
    fakturPajak: 'Dapat menerbitkan',
    asnNonAsn: null,
    golongan: null,
    sertifikatKonstruksi: null,
    jenisPajak: 'PPh 23',
    kodePajakEbillingPPh: '411124-104', // Adjusted
    dppRasio: '100/111',
    ptkp: '> 2000000',
    tarifPajak: '2%',
    kenaPpn: 'ya',
    kodePajakEbillingPpn: '411211-900', // Adjusted
    status: 'aktif',
  },
  {
    jenisTransaksi: 'Sewa (Alat kesenian, Genset, Sound System, Kendaraan,dll)',
    wp: 'Badan Usaha',
    fakturPajak: 'Dapat menerbitkan',
    asnNonAsn: null,
    golongan: null,
    sertifikatKonstruksi: null,
    jenisPajak: 'PPh 23',
    kodePajakEbillingPPh: '411124-100', // Adjusted
    dppRasio: '100/111',
    ptkp: '> 2000000',
    tarifPajak: '2%',
    kenaPpn: 'ya',
    kodePajakEbillingPpn: '411211-900', // Adjusted
    status: 'aktif',
  },
  {
    jenisTransaksi: 'Sewa Kendaraan Plat Kuning',
    wp: 'Badan Usaha',
    fakturPajak: 'Dapat menerbitkan',
    asnNonAsn: null,
    golongan: null,
    sertifikatKonstruksi: null,
    jenisPajak: 'PPh 23',
    kodePajakEbillingPPh: '411124-100', // Adjusted
    dppRasio: '100/111',
    ptkp: '> 2000000',
    tarifPajak: '2%',
    kenaPpn: 'ya',
    kodePajakEbillingPpn: '411211-900', // Adjusted
    status: 'aktif',
  },
  {
    jenisTransaksi: 'Fotokopi/Cetak banner,dll',
    wp: 'Badan Usaha',
    fakturPajak: 'Dapat menerbitkan',
    asnNonAsn: null,
    golongan: null,
    sertifikatKonstruksi: null,
    jenisPajak: 'PPh 23',
    kodePajakEbillingPPh: '411124-104', // Adjusted
    dppRasio: '100/111',
    ptkp: '> 2000000',
    tarifPajak: '2%',
    kenaPpn: 'ya',
    kodePajakEbillingPpn: '411211-900', // Adjusted
    status: 'aktif',
  },
  {
    jenisTransaksi: 'Jasa Pentas Seni (Tari, Wayang, dll)',
    wp: 'Badan Usaha',
    fakturPajak: 'Dapat menerbitkan',
    asnNonAsn: null,
    golongan: null,
    sertifikatKonstruksi: null,
    jenisPajak: 'PPh 23',
    kodePajakEbillingPPh: '411124-104', // Adjusted
    dppRasio: '100/111',
    ptkp: '> 2000000',
    tarifPajak: '2%',
    kenaPpn: 'ya',
    kodePajakEbillingPpn: '411211-900', // Adjusted
    status: 'aktif',
  },
  {
    jenisTransaksi: 'Jasa Penyelenggara Acara (EO)',
    wp: 'Badan Usaha',
    fakturPajak: 'Dapat menerbitkan',
    asnNonAsn: null,
    golongan: null,
    sertifikatKonstruksi: null,
    jenisPajak: 'PPh 23',
    kodePajakEbillingPPh: '411124-104', // Adjusted
    dppRasio: '100/111',
    ptkp: '> 2000000',
    tarifPajak: '2%',
    kenaPpn: 'ya',
    kodePajakEbillingPpn: '411211-900', // Adjusted
    status: 'aktif',
  },
  {
    jenisTransaksi: 'Belanja Premi Asuransi',
    wp: 'Badan Usaha',
    fakturPajak: null,
    asnNonAsn: null,
    golongan: null,
    sertifikatKonstruksi: null,
    jenisPajak: 'PPh 23',
    kodePajakEbillingPPh: '411124-101', // Adjusted
    dppRasio: '100/100',
    ptkp: null,
    tarifPajak: '2%',
    kenaPpn: 'tidak',
    kodePajakEbillingPpn: null,
    status: 'aktif',
  },
  {
    jenisTransaksi: 'Pemeliharaan Bangunan (Service lampu, pipa bocor, pengecatan ringan)',
    wp: 'Badan Usaha',
    fakturPajak: 'Dapat menerbitkan',
    asnNonAsn: null,
    golongan: null,
    sertifikatKonstruksi: null,
    jenisPajak: 'PPh 23',
    kodePajakEbillingPPh: '411124-104',
    dppRasio: '100/111',
    ptkp: '> 2000000',
    tarifPajak: '2%',
    kenaPpn: 'ya',
    kodePajakEbillingPpn: '411211-900',
    status: 'aktif',
  },
  {
    jenisTransaksi: 'Pemeliharaan Bangunan (ganti atap, sekat permanen, perbaikan struktur)',
    wp: 'Badan Usaha',
    fakturPajak: 'Dapat menerbitkan',
    asnNonAsn: null,
    golongan: null,
    sertifikatKonstruksi: 'Ada',
    jenisPajak: 'Pasal 4 ayat 2',
    kodePajakEbillingPPh: '411128-409', // Adjusted
    dppRasio: '100/111',
    ptkp: '> 2000000',
    tarifPajak: '1,75%',
    kenaPpn: 'ya',
    kodePajakEbillingPpn: '411211-900', // Adjusted
    status: 'aktif',
  },
  {
    jenisTransaksi: 'Pemeliharaan Bangunan (ganti atap, sekat permanen, perbaikan struktur)',
    wp: 'Badan Usaha',
    fakturPajak: 'Dapat menerbitkan',
    asnNonAsn: null,
    golongan: null,
    sertifikatKonstruksi: 'Tidak Ada',
    jenisPajak: 'Pasal 4 ayat 2',
    kodePajakEbillingPPh: '411128-409', // Adjusted
    dppRasio: '100/111',
    ptkp: '> 2000000',
    tarifPajak: '4%',
    kenaPpn: 'ya',
    kodePajakEbillingPpn: '411211-900', // Adjusted
    status: 'aktif',
  },
  {
    jenisTransaksi: 'Jasa Konsultasi Konstruksi',
    wp: 'Badan Usaha',
    fakturPajak: 'Dapat menerbitkan',
    asnNonAsn: null,
    golongan: null,
    sertifikatKonstruksi: 'Ada',
    jenisPajak: 'Pasal 4 ayat 2',
    kodePajakEbillingPPh: '411128-407', // Adjusted
    dppRasio: '100/111',
    ptkp: '> 2000000',
    tarifPajak: '3,5%',
    kenaPpn: 'ya',
    kodePajakEbillingPpn: '411211-900', // Adjusted
    status: 'aktif',
  },
  {
    jenisTransaksi: 'Jasa Konsultasi Konstruksi',
    wp: 'Badan Usaha',
    fakturPajak: 'Dapat menerbitkan',
    asnNonAsn: null,
    golongan: null,
    sertifikatKonstruksi: 'Tidak Ada',
    jenisPajak: 'Pasal 4 ayat 2',
    kodePajakEbillingPPh: '411128-407', // Adjusted
    dppRasio: '100/111',
    ptkp: '> 2000000',
    tarifPajak: '6%',
    kenaPpn: 'ya',
    kodePajakEbillingPpn: '411211-900', // Adjusted
    status: 'aktif',
  },
  {
    jenisTransaksi: 'Service Kendaraan, AC,Laptop, dll',
    wp: 'Badan Usaha',
    fakturPajak: 'Tidak dapat menerbitkan',
    asnNonAsn: null,
    golongan: null,
    sertifikatKonstruksi: null,
    jenisPajak: 'PPh 23',
    kodePajakEbillingPPh: '411124-104',
    dppRasio: '100/111',
    ptkp: '> 2000000',
    tarifPajak: '2%',
    kenaPpn: 'ya',
    kodePajakEbillingPpn: '411211-108',
    status: 'aktif',
  },
  {
    jenisTransaksi: 'Sewa (Alat kesenian, Genset, Sound System, Kendaraan,dll)',
    wp: 'Badan Usaha',
    fakturPajak: 'Tidak dapat menerbitkan',
    asnNonAsn: null,
    golongan: null,
    sertifikatKonstruksi: null,
    jenisPajak: 'PPh 23',
    kodePajakEbillingPPh: '411124-100',
    dppRasio: '100/111',
    ptkp: '> 2000000',
    tarifPajak: '2%',
    kenaPpn: 'ya',
    kodePajakEbillingPpn: '411211-108',
    status: 'aktif',
  },
  {
    jenisTransaksi: 'Sewa Kendaraan Plat Kuning',
    wp: 'Badan Usaha',
    fakturPajak: 'Tidak dapat menerbitkan',
    asnNonAsn: null,
    golongan: null,
    sertifikatKonstruksi: null,
    jenisPajak: 'PPh 23',
    kodePajakEbillingPPh: '411124-100',
    dppRasio: '100/111',
    ptkp: '> 2000000',
    tarifPajak: '2%',
    kenaPpn: 'ya',
    kodePajakEbillingPpn: '411211-108',
    status: 'aktif',
  },
  {
    jenisTransaksi: 'Fotokopi/Cetak banner,dll',
    wp: 'Badan Usaha',
    fakturPajak: 'Tidak dapat menerbitkan',
    asnNonAsn: null,
    golongan: null,
    sertifikatKonstruksi: null,
    jenisPajak: 'PPh 23',
    kodePajakEbillingPPh: '411124-104',
    dppRasio: '100/111',
    ptkp: '> 2000000',
    tarifPajak: '2%',
    kenaPpn: 'ya',
    kodePajakEbillingPpn: '411211-108',
    status: 'aktif',
  },
  {
    jenisTransaksi: 'Jasa Pentas Seni (Tari, Wayang, dll)',
    wp: 'Badan Usaha',
    fakturPajak: 'Tidak dapat menerbitkan',
    asnNonAsn: null,
    golongan: null,
    sertifikatKonstruksi: null,
    jenisPajak: 'PPh 23',
    kodePajakEbillingPPh: '411124-104',
    dppRasio: '100/111',
    ptkp: '> 2000000',
    tarifPajak: '2%',
    kenaPpn: 'ya',
    kodePajakEbillingPpn: '411211-108',
    status: 'aktif',
  },
  {
    jenisTransaksi: 'Jasa Penyelenggara Acara (EO)',
    wp: 'Badan Usaha',
    fakturPajak: 'Tidak dapat menerbitkan',
    asnNonAsn: null,
    golongan: null,
    sertifikatKonstruksi: null,
    jenisPajak: 'PPh 23',
    kodePajakEbillingPPh: '411124-104',
    dppRasio: '100/111',
    ptkp: '> 2000000',
    tarifPajak: '2%',
    kenaPpn: 'ya',
    kodePajakEbillingPpn: '411211-108',
    status: 'aktif',
  },
  {
    jenisTransaksi: 'Pemeliharaan Bangunan (ganti atap, sekat permanen, perbaikan struktur)',
    wp: 'Badan Usaha',
    fakturPajak: 'Tidak dapat menerbitkan',
    asnNonAsn: null,
    golongan: null,
    sertifikatKonstruksi: 'Ada',
    jenisPajak: 'Pasal 4 ayat 2',
    kodePajakEbillingPPh: '411128-409',
    dppRasio: '100/111',
    ptkp: '> 2000000',
    tarifPajak: '1,75%',
    kenaPpn: 'ya',
    kodePajakEbillingPpn: '411211-108',
    status: 'aktif',
  },
  {
    jenisTransaksi: 'Pemeliharaan Bangunan (ganti atap, sekat permanen, perbaikan struktur)',
    wp: 'Badan Usaha',
    fakturPajak: 'Tidak dapat menerbitkan',
    asnNonAsn: null,
    golongan: null,
    sertifikatKonstruksi: 'Tidak Ada',
    jenisPajak: 'Pasal 4 ayat 2',
    kodePajakEbillingPPh: '411128-409',
    dppRasio: '100/111',
    ptkp: '> 2000000',
    tarifPajak: '4%',
    kenaPpn: 'ya',
    kodePajakEbillingPpn: '411211-108',
    status: 'aktif',
  },
  {
    jenisTransaksi: 'Jasa Konsultasi Konstruksi',
    wp: 'Badan Usaha',
    fakturPajak: 'Tidak dapat menerbitkan',
    asnNonAsn: null,
    golongan: null,
    sertifikatKonstruksi: 'Ada',
    jenisPajak: 'Pasal 4 ayat 2',
    kodePajakEbillingPPh: '411128-407',
    dppRasio: '100/111',
    ptkp: '> 2000000',
    tarifPajak: '3,5%',
    kenaPpn: 'ya',
    kodePajakEbillingPpn: '411211-108',
    status: 'aktif',
  },
  {
    jenisTransaksi: 'Jasa Konsultasi Konstruksi',
    wp: 'Badan Usaha',
    fakturPajak: 'Tidak dapat menerbitkan',
    asnNonAsn: null,
    golongan: null,
    sertifikatKonstruksi: 'Tidak Ada',
    jenisPajak: 'Pasal 4 ayat 2',
    kodePajakEbillingPPh: '411128-407',
    dppRasio: '100/111',
    ptkp: '> 2000000',
    tarifPajak: '6%',
    kenaPpn: 'ya',
    kodePajakEbillingPpn: '411211-108',
    status: 'aktif',
  },
];

let taxData = [...initialTaxData];

// Function to get the current tax data
export const getTaxData = () => {
  return taxData;
};

// Function to update the tax data
export const updateTaxData = (newData: TaxDataRow[]) => {
  taxData = newData;
};

// Function to add a new tax rule
export const addTaxRule = (newRule: TaxDataRow) => {
    taxData.unshift(newRule);
};

// Function to update an existing tax rule
export const updateTaxRule = (updatedRule: TaxDataRow, oldRule: TaxDataRow) => {
    const index = taxData.findIndex(rule => rule === oldRule);
    if (index !== -1) {
        taxData[index] = updatedRule;
    }
};

// Function to delete a tax rule
export const deleteTaxRule = (ruleToDelete: TaxDataRow) => {
    taxData = taxData.filter(rule => rule !== ruleToDelete);
}

// Function to toggle status
export const toggleTaxRuleStatus = (ruleToToggle: TaxDataRow) => {
    const index = taxData.findIndex(rule => rule === ruleToToggle);
    if (index !== -1) {
        taxData[index].status = taxData[index].status === 'aktif' ? 'non-aktif' : 'aktif';
    }
}
